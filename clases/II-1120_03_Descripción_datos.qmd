---
title: "Descripci√≥n de datos"
subtitle: "[Versi√≥n PDF](https://stevenggoni.github.io/clases/II-1120_03_Descripci√≥n_datos.pdf) <br> II-1120 Estad√≠stica para Ingenier√≠a Industrial I"
date: today
format: revealjs
---

```{r echo=FALSE}

library(tidyverse)
library(fontawesome)

```

## Agenda {.bloques}

-   Preguntas generadoras
-   Visualizaci√≥n de datos
-   T√©cnicas para describir:
    -   Variables categ√≥ricas
    -   Variables cuantitativas
    -   Visualizaciones recomendadas
-   Consejos para la presentaci√≥n de datos
    -   Gr√°ficos tendenciosos o err√≥neos
    -   Cuadros y gr√°ficos estad√≠sticos

## Preguntas generadoras {.bloques}

-   ¬øCu√°ndo usar cada tipo de t√©cnicas para describir variables?
-   ¬øCu√°ndo usar las medidas de posici√≥n, dispersi√≥n y forma?
-   ¬øPor qu√© es importante estudiar la dispersi√≥n de los datos?
-   ¬øPor qu√© es importante estudiar la forma de los datos?
-   ¬øC√≥mo escoger el gr√°fico adecuado para el tipo de datos que tengo?

## ¬°Recuerde! {.bloques}

::::: columns
::: {.column width="55%"}
-   Las variables se pueden clasificar por tipo: *Cuantitativa* y *Cualitativa*, as√≠ como por niveles de medici√≥n: *Nominal*, *Ordinal*, *Intervalo* y *Raz√≥n.*

-   √âstas determinan como se deben recoger y analizar lo datos. Es decir, rigen los c√°lculos que se deben llevar a cabo.

-   La validez de las conclusiones depende de la fiabilidad de la recolecci√≥n de datos y de las t√©cnicas de an√°lisis empleadas.
:::

::: {.column .img-fit width="45%"}
![](img/diagrama.png)
:::
:::::

# Visualizaci√≥n de datos

## Visualizaci√≥n {.bloques}

:::: columns
::: {.column width="100%" style="text-align: center; font-size: 1.5em;"}
La visualizaci√≥n es una [actividad humana fundamental]{.hi}. Una buena visualizaci√≥n mostrar√° cosas que no se esperaban o har√° surgir nuevas preguntas acerca de los datos. Tambi√©n puede dar pistas acerca de si se est√°n haciendo las preguntas equivocadas o si se necesita recolectar datos diferentes.

> ‚Äú[Un simple gr√°fico ha brindado m√°s informaci√≥n a la mente del analista de datos que cualquier otro dispositivo]{.hi}‚Äù. - *John Tukey*
:::
::::

# Medidas para [una]{.hi} variable [cualitativa]{.hi}

## Ejemplo {.bloques}

::::: columns
::: {.column width="50%"}
-   Un usuario en [Reddit (enlace)](https://www.reddit.com/r/Ticos/comments/yz1ujt/mejor_fresco_leche/){target="_blank"} pregunta a la comunidad:
    -   ¬øCu√°l es el mejor sabor de fresco leche? Con lo que obtiene estos resultados:

```{r echo=FALSE}

sabor <- data.frame(Sabor = c("Chocolate", "Vainilla", "Fresa"), 
                    Votos = c(103, 92, 72))

sabor %>% 
  knitr::kable(format = "html") %>%
  kableExtra::kable_styling()

```
:::

::: {.column width="50%"}
-   Discuta con la persona docente y sus compa√±eros y compa√±eras:
    -   ¬øQu√© nivel de medici√≥n fue usado?
    -   ¬øCu√°l es la muestra? Descr√≠bala
    -   ¬øCu√°l es la poblaci√≥n?
    -   ¬øQu√© tipo de muestreo fue usado?
    -   ¬øEste tipo de recolecci√≥n de datos introduce alg√∫n [sesgo]{.hi}?
:::
:::::

## Ejemplo {.bloques}

:::: columns
::: {.column width="100%"}
-   Las variables categ√≥ricas, de nivel nominal, solo pueden ser agrupadas y contadas (esto se conoce como [tabla de frecuencia]{.hi}). Adem√°s, se pueden obtener proporciones.

```{r echo=FALSE}

sabor %>%
  dplyr::mutate(Proporci√≥n = round(Votos/267, 3)) %>% 
  knitr::kable(format = "html") %>%
  kableExtra::kable_styling()

```
:::
::::

## Ejemplo - Visualizaci√≥n {.bloques}

::::: columns
::: {.column width="50%"}
Las variables categ√≥ricas se pueden representar de muchas formas. Dos de ellas son:

```{r echo=FALSE}

plotly::plot_ly(sabor,
                labels = ~Sabor,
                values = ~Votos,
                type = "pie",
                height = 500,
                width = 850) %>% 
  plotly::layout(paper_bgcolor = "#F1F5F5",
                 plot_bgcolor  = "#F1F5F5",
                 font = list(size = 30),
                 xaxis = list(titlefont = list(size = 22),
                              tickfont = list(size = 18)),
                 yaxis = list(titlefont = list(size = 22),
                              tickfont = list(size = 18)))

```
:::

::: {.column width="50%"}
¬øCu√°l de las dos formas es m√°s apropiada?

```{r echo=FALSE}

sabor_ord <- sabor[order(-sabor$Votos), ]
sabor_ord$Sabor <- factor(sabor_ord$Sabor,
                          levels = sabor_ord$Sabor)

plotly::plot_ly(sabor_ord,
                x = ~Sabor,
                y = ~Votos,
                type = "bar", 
                height = 600,
                width = 850) %>% 
  plotly::layout(paper_bgcolor = "#F1F5F5",
                 plot_bgcolor  = "#F1F5F5",
                 font = list(size = 30),
                 xaxis = list(
                   title = list(text = "Sabor", font = list(size = 30)),
                   tickfont = list(size = 25)),
                 yaxis = list(title = list(text = "Votos", 
                                           font = list(size = 30)),
                              tickfont = list(size = 25)))

```
:::
:::::

## ¬°Importante! {.bloques}

-   Estos conocimientos se van a ir construyendo poco a poco.
-   Para [muestras]{.hi} y [poblaciones]{.hi} se usan notaciones diferentes.
-   Preste atenci√≥n a lo largo de este y otros cursos, sobre todo de esta √°rea de conocimiento, a las diferentes notaciones. Por ejemplo, la proporci√≥n muestral se denota con $\hat{p}$ mientras que la poblacional con $p$. De la misma forma el promedio muestral es $\bar{x}$ y el poblacional es $\mu$.
-   En este sentido, [recuerde]{.hi} que hay una diferencia entre estimador y par√°metro.

## Otro ejemplo {.bloques}

-   El Instituto Costarricense de Turismo (ICT) realiza encuestas para determinar los perfiles de los turistas que ingresan por distintas v√≠as al pa√≠s.
    -   [Enlace a Encuestas ICT](https://www.ict.go.cr/es/estadisticas/encuestas.html){target="_blank"}
-   Para las personas que ingresan v√≠a aeropuerto se obtiene, entre otros, la variable: [Motivo del viaje]{.underline}.
    -   Discuta: ¬øPor qu√© para un profesional de la ingenier√≠a industrial estudiar esta variable puede ser importante?

## Otro ejemplo {.bloques}

::::: columns
::: {.column width="50%"}
-   El ICT informa que la encuesta se realiza durante todo el a√±o y de forma [aleatoria]{.hi}. Consiguiendo la respuesta de 5 094 personas.
    -   ¬øCu√°l es la poblaci√≥n?
    -   ¬øExiste un sesgo evidente en la recolecci√≥n de los datos?

![](img/encuesta.png){width="250"}
:::

::: {.column width="50%" style="font-size: 0.87em;"}
```{r}

motivo_visita <- data.frame(Motivo = c("Vacaciones",
                                       "Visita a familiares",
                                       "Religi√≥n/peregrinaciones",
                                       "Educaci√≥n",
                                       "Salud",
                                       "Compras",
                                       "Incentivo",
                                       "Otros motivos personales",
                                       "Reuniones de negocios",
                                       "Conferencias y congresos",
                                       "Actividades deportivas/culturales"),
                            Porcentaje = c(65.10, 9.60, 6.40, 5.90, 0.60, 
                                           0.30, 0.04, 1.00,  8.07, 1.07, 2.00))

motivo_visita %>% 
  knitr::kable(format = "html") %>%
  kableExtra::kable_styling()

```
:::
:::::

## Ejemplo - Visualizaci√≥n {.bloques}

::::: columns
::: {.column width="50%"}
### ¬øQu√© opina de este gr√°fico?

```{r}

plotly::plot_ly(motivo_visita,
                labels = ~Motivo,
                values = ~Porcentaje,
                type = "pie",
                height = 500,
                width = 850) %>% 
  plotly::layout(paper_bgcolor = "#F1F5F5",
                 plot_bgcolor  = "#F1F5F5",
                 font = list(size = 22),
                 xaxis = list(titlefont = list(size = 22),
                              tickfont = list(size = 18)),
                 yaxis = list(titlefont = list(size = 22),
                              tickfont = list(size = 18)))

```
:::

::: {.column width="50%"}
### ¬øResulta m√°s claro este?

```{r}

plotly::plot_ly(motivo_visita,
                x = ~Motivo,
                y = ~Porcentaje,
                type = "bar", 
                height = 600,
                width = 850) %>% 
  plotly::layout(paper_bgcolor = "#F1F5F5",
                 plot_bgcolor  = "#F1F5F5",
                 font = list(size = 25),
                 xaxis = list(
                   title = list(text = "Motivo", font = list(size = 25)),
                   tickfont = list(size = 20),
                   tickangle = 30),
                 yaxis = list(title = list(text = "Porcentaje", 
                                           font = list(size = 25)),
                              tickfont = list(size = 20)))

```
:::
:::::

## Ejemplo - Visualizaci√≥n {.bloques}

::::: columns
::: {.column width="50%"}
### ¬øEsta es mejor opci√≥n?

```{r}

motivo_ord <- motivo_visita[order(-motivo_visita$Porcentaje), ]
motivo_ord$Motivo <- factor(motivo_visita$Motivo,
                          levels = motivo_visita$Motivo)

plotly::plot_ly(motivo_ord,
                x = ~Motivo,
                y = ~Porcentaje,
                type = "bar", 
                height = 600,
                width = 850) %>% 
  plotly::layout(paper_bgcolor = "#F1F5F5",
                 plot_bgcolor  = "#F1F5F5",
                 font = list(size = 25),
                 xaxis = list(
                   title = list(text = "Motivo", font = list(size = 25)),
                   tickfont = list(size = 20), 
                   tickangle = -30),
                 yaxis = list(title = list(text = "Porcentaje", 
                                           font = list(size = 25)),
                 tickfont = list(size = 20)))

```
:::

::: {.column width="50%"}
El ejercicio de visualizaci√≥n de datos es, en el fondo, un acto profundamente humano; pues toma algo "abstracto" como n√∫meros, distribuciones, incertidumbres, entre otros y los transmite en algo con significado. En la comunicaci√≥n visual la simplicidad es importante.

> [La perfecci√≥n se alcanza, no cuando no hay nada m√°s que a√±adir, sino cuando no hay nada m√°s que quitar]{.hi} - *Antoine de Saint-Exupery*
:::
:::::

# Medidas para [dos]{.hi} variables [cualitativas]{.hi}

## Tablas de contingencia {.bloques}

-   Son tambi√©n conocidas como "tabla de doble entrada".

-   Se usan para mostrar la [relaci√≥n]{.hi} que existe entre dos variables categ√≥ricas.

    -   Las tablas de contingencia, adem√°s de para describir datos, tienen muchas aplicaciones en [estad√≠stica inferencial]{.hi}.

-   Las categor√≠as de una de las variables son las filas y las de la otra variable son las columnas. Los cruces son el conteo de lso casos en los que ocurren ambas variables simult√°neamente.

## Ejemplo {.bloques}

::::: columns
::: {.column width="50%" style="font-size: 0.9em;"}
-   Mediante una [encuesta]{.hi} se obtiene informaci√≥n respecto a la siguiente pregunta:
    -   ¬øHay un verdadero amor para cada persona?
-   Las respuestas obtenidas se organizan en una tabla de contingencia. Lo que facilita su representaci√≥n.

```{r}

amor <- data.frame(Respuesta = c("A favor", "En contra", "No lo s√©", "Total"),
                   Hombre = c(372, 807, 34, 1213),
                   Mujer = c(363, 1005, 44, 1412),
                   Total = c(735, 1812, 78, 2625))


amor %>% 
  knitr::kable(format = "html") %>%
  kableExtra::kable_styling()

```
:::

::: {.column width="50%" style="font-size: 0.8em;"}
### Pr√°ctica

-   ¬øQu√© proporci√≥n de mujeres est√° de acuerdo?
    -   $\frac{363}{1412}=0.26$
-   ¬øQu√© proporci√≥n de las personas que est√°n de acuerdo son mujeres?
    -   $\frac{363}{735}=0.49$
-   ¬øQu√© proporci√≥n de los hombres est√° de acuerdo?
    -   $\frac{372}{1213}=0.31$
-   ¬øEs m√°s probable que las mujeres o los hombres crean en el amor verdadero?
    -   Hombres
-   ¬øQu√© proporci√≥n de las personas encuestadas son mujeres?
    -   $\frac{1412}{2625}=0.54$
:::
:::::

## ¬øC√≥mo visualizar dos categor√≠as? {.bloques}

::::: columns
::: {.column width="50%"}
### Gr√°ficos de barras

```{r}

amor_plot <- amor %>%
  dplyr::filter(Respuesta != "Total") %>%
  tidyr::pivot_longer(cols = c(Hombre, Mujer),
               names_to = "G√©nero",
               values_to = "Cantidad")

g1 <- ggplot(amor_plot, aes(x = Respuesta, y = Cantidad, fill = G√©nero)) +
  geom_bar(stat = "identity", position = "dodge") +
  scale_fill_brewer(palette = "Set1") +
  labs(title = "",
       x = "Respuesta",
       y = "Cantidad") +
  theme_bw()

plotly::ggplotly(g1, height = 600, width = 850) %>% 
  plotly::layout(paper_bgcolor = "#F1F5F5",
                 plot_bgcolor  = "#F1F5F5",
                 font = list(size = 25),
                 xaxis = list(
                   title = list(font = list(size = 25)),
                   tickfont = list(size = 20)),
                 yaxis = list(title = list(font = list(size = 25)),
                 tickfont = list(size = 20)),
                 legend = list(title = list(font = list(size = 25)),
                               font = list(size = 20),
                               bgcolor = "#F1F5F5"))

```
:::

::: {.column width="50%"}
### Gr√°ficos de barras apiladas

```{r}

g2 <- ggplot(amor_plot, aes(x = Respuesta, y = Cantidad, fill = G√©nero)) +
  geom_bar(stat = "identity", position = "fill") +
  scale_fill_brewer(palette = "Set1") +
  labs(title = "",
       x = "Respuesta",
       y = "Cantidad") +
  theme_bw()

plotly::ggplotly(g2, height = 600, width = 850) %>% 
  plotly::layout(paper_bgcolor = "#F1F5F5",
                 plot_bgcolor  = "#F1F5F5",
                 font = list(size = 25),
                 xaxis = list(
                   title = list(font = list(size = 25)),
                   tickfont = list(size = 20)),
                 yaxis = list(title = list(font = list(size = 25)),
                 tickfont = list(size = 20)),
                 legend = list(title = list(font = list(size = 25)),
                               font = list(size = 20),
                               bgcolor = "#F1F5F5"))

```
:::
:::::

# Medidas para [una o m√°s]{.hi} variables [cuantitativas]{.hi}

## ¬øC√≥mo se describe una variable cuantitativa? {.bloques}

-   Hay tres formas de hacerlo:
    -   Medidas de ubicaci√≥n, posici√≥n o tendencia central
    -   Medidas de dispersi√≥n
    -   Medidas de forma
-   `r fontawesome::fa("circle-exclamation")` **Advertencia**: Estas medidas tambi√©n pueden usar para dos o m√°s variables cuantitativas, categorizadas por variables cualitativas.
    -   Por ejemplo: salario promedio por g√©nero.

## M√©didas de posici√≥n {.bloques style="font-size: 1.5em;"}

-   Est√°n dise√±adas para brindar a la persona analista algunos [valores cuantitativos]{.hi} de la ubicaci√≥n central (u otros) de los datos en una poblaci√≥n o en una muestra.

## 1. Media o promedio {.bloques}

::::: columns
::: {.column width="50%"}
-   Sirve como medida para expresar el centro de una distribuci√≥n.
-   A modo de analog√≠a, la media se puede interpretar como un ‚Äúcentro de gravedad‚Äù.
-   Esta es la [principal desventaja]{.hi} de la media: [se ve MUY afectada por la presencia de valores extremos]{.hi}.
    -   No es una pr√°ctica √©tica eliminar valores extremos sin justificarlo y reportarlo.

![](img/centro_gravedad.png){width="400"}
:::

::: {.column width="50%" style="font-size: 0.92em;"}
### Por ejemplo

-   En una muestra, la media de 5 n√∫meros *aproximadamente* similares: 4, 3, 5, 4 y 6 es $\bar{x}=4.4$.
    -   Esto ser√≠a como una regla `r fontawesome::fa("ruler-horizontal")`, "*uniforme*" en toda la superficie, por lo que el centro de gravedad est√° en el "*centro*".
-   La media de 5 n√∫meros con uno sumamente distinto (valor extremo): 2, 3, 5, 4 y 25 es $\bar{x}=8.8$.
    -   Esto ser√≠a como un martillo `r fontawesome::fa("hammer")`, cargado en un extremo.
    -   Tambi√©n puede darse el caso de que haya valores extremos en ambas direcciones, comport√°ndose como una mancuerna `r fontawesome::fa("dumbbell")`.
        -   Por ejemplo: 2, 9, 12, 8, 11, 35 tiene como media $\bar{x}=12.83$
:::
:::::

## 1. Media o promedio - F√≥rmulas {.bloques}

::::: columns
::: {.column width="50%"}
### Poblacional

$$
\mu=\frac{\sum_{i=1}^N x_i}{N}
$$

-   Siendo $\mu$ el promedio, $x_i$ los valores individuales y $N$ la cantidad de datos en la poblaci√≥n.

-   En este sentido $\mu$ es un par√°metro y $\bar{x}$ es un estimador.
:::

::: {.column width="50%"}
### Muestral

-   Note el cambio en la notaci√≥n (los s√≠mbolos). La notaci√≥n es muy importante para esta √°rea de conocimiento.

$$
\bar{x}=\frac{\sum_{i=1}^n x_i}{n}
$$

-   Siendo $\bar{x}$ el promedio, $x_i$ los valores individuales y $n$ la cantidad de datos en la muestra.
:::
:::::

## Media geom√©trica y arm√≥nica {.bloques}

::::: columns
::: {.column width="50%"}
### 1.2 Geom√©trica (G)

-   Es un tipo de media que se calcula como la ra√≠z n-esima del producto de un conjunto de n√∫mero estrictamente positivos
-   Se suele usar para calcular medias sobre porcentajes. Es menos sensible a datos extremos.

$$\bar{x}_G=(x_1 \cdot x_2 \cdots x_n)^\frac{1}{n}$$
:::

::: {.column width="50%"}
### 1.3 Arm√≥nica (H)

-   Es un tipo de media que es igual al n√∫mero de elementos de un grupo de cifras entre la suma de los inversos de cada una de esas cifras.
-   Se suele usar con velocidades, tiempos, entre otros. Tambi√©n es menos sensible a datos extremos y solo funciona en n√∫meros positivos.

$$
\bar{x}_H=\frac{n}{\frac{1}{x_1} + \frac{1}{x_2} + \cdots +\frac{1}{x_n}}
$$
:::
:::::

## 1.4 Media ponderada {.bloques}

::::: columns
::: column
-   Constituye un caso especial de la media, se presenta cuando hay varias observaciones con el mismo valor.
-   Suponga que en Hangar se venden 3 tipos de caf√©: peque√±o, mediano y grande. En un momento particular se venden 3 peque√±os, 2 medianos y 3 grandes. ¬øCu√°l es el promedio de las ventas?
    -   Note que es igual a como se calcula el promedio ponderado de matr√≠cula
:::

::: column
### Muestral

-   $$\bar{x}=\frac{\sum_{i=1}^n w_i\cdot x_i}{\sum_{i=1}^n w_i}$$

### Poblacional

-   $$\bar{x}=\frac{\sum_{i=1}^N w_i\cdot x_i}{\sum_{i=1}^N w_i}$$
:::
:::::

## Media ponderada - Ejemplo {.bloques}

:::: columns
::: {.column width="100%"}
-   Resolviendo las ecuaciones:

```{r}

cafe <- data.frame(Presentaci√≥n = c("Peque√±o", "Mediano", "Grande"), 
                   Ventas = c(3, 2, 3),
                   Precio = c(500, 700, 900)) %>% 
  dplyr::mutate(`Promedio de ventas` = Ventas*Precio) %>% 
  janitor::adorn_totals()

cafe %>% 
  knitr::kable(format = "html") %>%
  kableExtra::kable_styling()

```

-   Se obtiene un promedio ponderado de $\bar{x}_w=\frac{5600}{8}=700$ colones.
:::
::::

## 1.5 Media recortada {.bloques}

-   Como se ha enfatizado, la [media es bastante sensible]{.hi} a un solo valor extremo.
-   La media recortada se calcula ‚Äúquitando‚Äù cierto porcentaje de los valores mayores y menores del conjunto de datos.
    -   Se eliminan $k$ valores de ambos extremos, no solo de uno.
    -   $\bar{x}_{\text{rec}} = \frac{1}{n - 2k} \sum_{i = k+1}^{n-k} x_{(i)}$
-   Por ejemplo, una media recortada al 10 % se calcula eliminando tanto el 10 % de los valores menores como el 10 % de los valores mayores. Y se calcula el promedio de los valores ‚Äúsobrevivientes‚Äù.
    -   Si se tienen 7 datos y se elige un recorte de 10 %, $k=7\cdot 0.1=0.7=0$ la media recortada ser√≠a igual a la media, pues no se eliminar√≠an datos, si se elige 20 %, $k=7\cdot 0.2=1.4=1$ se eliminar√≠a 1 dato en cada extremo (el menor y el mayor).

## 2. Mediana {.bloques style="font-size: 1.2em;"}

-   Sirve tambi√©n como medida para expresar el centro de una distribuci√≥n. [No se ve afectada significativamente por valores extremos]{.hi}.
-   Cuando el conjunto de datos contiene uno o dos valores muy grandes o muy peque√±os la media [NO RESULTA REPRESENTATIVA]{.hi}.
    -   Es en estos casos en los que la [mediana]{.hi} es usada para describir el centro de los datos.

## Ejemplo {.bloques}

::::: columns
::: {.column .img-fit width="60%"}
![](img/Infograf√≠a%20Radiograf√≠a%20Laboral%202022%20Ingenier√≠a%20Industrial.png)
:::

::: {.column width="40%"}
¬øAlguna vez se pregunt√≥ por el salario en su carrera?

La gran mayor√≠a de estudios responden al salario promedio. Inlcusive, muchos de ustedes durante las ferias vocacionales realizan esta pregunta.

[¬øEso est√° bien?]{.hi} La respuesta es ¬°no! los salarios siempre tienen valores extremos.
:::
:::::

## El problema del promedio vs la mediana {.bloques}

:::::: {.columns}
::: {.column width="60%" style="font-size: 1.1em;"}
-   Por esto es importante, en algunos conjuntos de datos, estimar la mediana en lugar de la media.
    -   OJO: esto no es una "receta", cada contexto se analiza en consecuencia.
-   Entonces, [¬øEl salario promedio es adecuado?]{.hi}

:::

::: {.column .img-fit width="40%"}

{{< video img/salario_promedio.mp4 height="710">}}

:::

::::::

## 2. Mediana - F√≥rmulas {.bloques}

:::::: {.columns}
::: {.column width="50%"}

### Poblacional

Es literalmente el valor medio de un conjunto de [datos ordenados]{.hi} de menor a mayor.

$$
\widetilde{X} = \begin{cases} x_{\frac{N+1}{2}} & \text{si N es impar} \\ \frac{1}{2} \cdot (x_{\frac{N}{2}}+x_{\frac{N}{2}+1}) & \text{si N es par} \end{cases}
$$

-   Siendo $\tilde{x}$ la mediana.

-   En este sentido $\widetilde{X}$ es un par√°metro y $\tilde{x}$ es un estimador.
:::

::: {.column width="50%"}

### Muestral

$$
\tilde{x} = \begin{cases} x_{\frac{n+1}{2}} & \text{si n es impar} \\ \frac{1}{2} \cdot (x_{\frac{n}{2}}+x_{\frac{n}{2}+1}) & \text{si n es par} \end{cases}
$$

:::

::::::

## Ejemplo {.bloques}

:::::: {.columns}

::: {.column width="65%"}

Por ejemplo, en estos valores ordenados:

```{r}

valores <- data.frame(valores = c(29, 31, 35, 39, 39, 40, 43, 44, 44, 52),
                      Posici√≥n = 1:10)

valores %>% 
  t() %>% 
  knitr::kable(format = "html") %>%
  kableExtra::kable_styling()

```

La mediana es: 

$$\tilde{x}=\frac{1}{2} \cdot (x_{\frac{10}{2}}+x_{\frac{10}{2}+1}) \\ \tilde{x} =\frac{1}{2}\cdot (39 + 40) \\ \tilde{x} =39.5$$


:::

::: {.column .img-fit width="35%"}

![](img\example.gif)

:::

::::::

## 3. Moda {.bloques}

* Es el valor del conjunto de datos que aparece con mayor frecuencia. Al igual que con la mediana y a diferencia de la media, los valores extremos no afectan a la moda.
* La moda [solo se usa con prop√≥sitos descriptivos]{.hi} (es decir, no para hacer inferencias), ya que var√≠a m√°s entre muestras que la media o la mediana. 
* En simple, es el valor que m√°s repite en una distribuci√≥n de datos. Como tal no tiene f√≥rmula, pues se trata de un simple conteo.
  * >Es posible que haya conjuntos de datos sin moda o con varias modas.
  
## 4. Cuantiles {.bloques}

* Dividen el conjunto de datos en partes iguales. El procedimiento manual siempre inicia con ordenar los datos de menor a mayor (*en este sentido se sigue la misma l√≥gica de c√°lculo que en la mediana, pues esta es un caso de los cuantiles*). Y tomar decisiones si la cantidad de datos es par o impar. 
  * **Percentil** (P): divide a los datos en 100 partes iguales
  * **Quintil**: divide a los datos en 5 partes iguales
  * **Cuartil** (Q): divide a los datos en 4 partes iguales
  * **Mediana**: divide a los datos en 2 partes iguales
El $P_50$ es igual al $Q_2$ que es igual a la mediana ($\tilde{x}$).

## ¬øC√≥mo se interpretan? {.bloques}

:::::: {.columns}

::: {.column width="60%" style="font-size: 1.2em;"}

* Por ejemplo, para el siguiente conjunto de datos el $Q_1$ es 35
  * 29, 31, 35, 39, 40, 43, 44, 44, 52
    * En Excel usamos `QUARTILE.INC` en lugar de `QUARTILE.EXC`, si se usa `QUARTILE.EXC` el resultado ser√≠a 33 y no 35. La funci√≥n `QUARTILE.EXC` excluye valores extremos del conjunto de datos. 

* [Interpretaci√≥n]{.hi}: 
  * El 25 % de los datos se encuentran por debajo de 35.

* Calcule e interprete otros cuantiles. 

:::

::: {.column width="40%"}

### Algunas equivalencias

* $P_{25}=Q_1$
* $P_{50}=Q_2=\tilde{x}$
* $P_{75}=Q_3$
* $P_{20}=Quintil_1$
* $P_{40}=Quintil_2$
* $P_{60}=Quintil_3$
* $P_{80}=Quintil_4$

:::

::::::

## M√©didas de dispersi√≥n o variabilidad {.bloques style="font-size: 1.5em;"}

* La variabilidad de una muestra desempe√±a un papel importante en el an√°lisis de datos. La [variabilidad de procesos y productos es un hecho real en los sistemas cient√≠ficos y de ingenier√≠a]{.hi}: el control o la reducci√≥n de la variabilidad de un proceso a menudo es una fuente de mayores dificultades. 

* Las medidas de tendencia central o posici√≥n [siempre]{.hi} deben acompa√±arse de medidas de [variablidad]{.hi}.

## Rangos

:::::: {.columns}

::: {.column width="50%"}

### 1. Rango

* Son las medidas de variabilidad m√°s simples. 

* El defecto o desventaja de los rangos es que depende √∫nicamente de dos valores, y por ende es [sensible]{.hi} a si estos son extremos en comparaci√≥n al resto del conjunto de datos. 

* Se refiere a la diferencia entre el valor m√°ximo y el m√≠nimo. 

$$
R=M√°x-Min
$$

:::

::: {.column width="50%"}

### 2. Rango Intercuartil (RIC o *IQR*)

* Esta reduce el riesgo de la anterior, pues es una medida de dispersi√≥n del 50 % central de los datos.

$$
IQR = Q_3-Q_1 \\ IQR = P_{75}-P_{25}
$$

:::

::::::

## 3. Varianza y desviaci√≥n est√°ndar {.bloques}

* Es una medida que indica la [desviaci√≥n]{.hi} que tienen los datos alrededor de la **media** (mucha atenci√≥n a la f√≥rmula).
  * Una varianza (desviaci√≥n) "alta" indica que los datos se encuentran muy dispersos, por el contrario una baja indicar√≠a que los datos se encuentran poco dispersos alrededor de la media. 
* Lo correcto es siempre analizar las medidas de posici√≥n, acompa√±adas de medidas de variabilidad. 
  * ¬øPor qu√©? Discuta con la persona docente y otras personas estudiantes.
* Se suele usar la desviaci√≥n est√°ndar en lugar de la varianza, porque la segunda tiene una interpretaci√≥n "m√°s complicada".


## 3. Varianza y desviaci√≥n est√°ndar {.bloques}

:::::: {.columns}

::: {.column width="50%"}

### Poblacional

* Varianza

$$
\sigma^2=\frac{\sum_{i=1}^{N}(\bar{x}-\mu)^2}{N}
$$

* Desviaci√≥n est√°ndar

$$
\sigma=\sqrt{\frac{\sum_{i=1}^{N}(\bar{x}-\mu)^2}{N}}
$$

:::

::: {.column width="50%"}

### Muestral

* Varianza

$$
s^2=\frac{\sum_{i=1}^{N}(\bar{x}-\mu)^2}{n-1}
$$

* Desviaci√≥n est√°ndar

$$
s=\sqrt{\frac{\sum_{i=1}^{N}(\bar{x}-\mu)^2}{n-1}}
$$

:::

::::::

## ¬øPor qu√© n-1? {.bloques}

* Se llama la correcci√≥n de Bessel
* Justificaci√≥n por intuici√≥n: 
  * Para comprender completamente esto, hay que avanzar un poco m√°s en el curso. 
  * B√°sicamente ùëõ‚àí1 provee una estimaci√≥n insesgada del estimador de la varianza poblacional. 
  * El $n-1$ implica que un grado de libertad se pierde (en realidad se usa) para estimar la media muestral $\bar{x}$. 

* Los grados de libertad (tema que se detalla en otras sesiones) son las piezas de informaci√≥n que se utilizan para calcular un estimador, en este caso 1 grado de libertad se us√≥ para calcular la media ($\bar{x}$), por lo que solo quedar√≠an $n-1$ para la varianza.

* La justificaci√≥n por demostraci√≥n est√° disponible en este [sitio web](https://stevenggoni.github.io/interactivos/demostracion_n-1.html){target="_blank"} como material **complementario** y **opcional**.

## 4. Coeficiente de variaci√≥n (CV) {.bloques}

:::::: {.columns}

::: {.column width="50%"}

* Es una medida de dispersi√≥n relativa de un determinado conjunto de datos.
  * ¬øRelativo a qui√©n? A la [media]{.hi}.
  * Observemos la f√≥rmula. 

:::

::: {.column width="50%"}

### Poblacional

$$
CV = \frac{\sigma}{\mu}
$$

### Muestral

$$
\widehat{CV} = \frac{s}{\bar{x}}
$$

:::

::::::

## 4. Coeficiente de variaci√≥n (CV) {.bloques}

* ¬øCu√°ndo deber√≠amos usar el CV y no la desviaci√≥n est√°ndar o la varianza?
* Note de la f√≥rmula que el CV es [adimensional]{.hi}, eso nos permite comparar la variabilidad de variables con [diferentes unidades]{.hi}. 
* Su interpretaci√≥n se puede expresar como porcentaje.
* Por ejemplo: 
  * ¬øQu√© es m√°s variable, el peso o la edad de una persona?

## Resumen {.bloques}

* En t√©rminos generales [es siempre conveniente presentar las medidas de posici√≥n acompa√±adas de medidas de dispersi√≥n]{.hi}.
* Pues complementan la informaci√≥n dada por las medidas de tendencia central (posici√≥n).   * Hace posible la comparaci√≥n entre diferentes grupos.
  * Sirven como control para evitar conclusiones err√≥neas en la comparaci√≥n de datos. 
* ¬øCu√°l medida de dispersi√≥n es la m√°s adecuada para las respectivas medidas de posici√≥n?
* Para la [media]{.hi} se suele usar la [desviaci√≥n est√°ndar]{.hi}, mientras que para la [mediana]{.hi} se sugiere usar alguna de las medidas de rango, preferiblemente el [IQR]{.hi}.

## M√©didas de dispersi√≥n o variabilidad {.bloques style="font-size: 1.2em;"}

* Describen la forma de una distribuci√≥n de datos. Permiten identificar si una distribuci√≥n es sim√©trica o asim√©trica, o qu√© tan agrupados est√°n los datos.

* Son, probablemente, las medidas que t√≠picamente se interpretan mal.

## 1. Asimetr√≠a {.bloques}

:::::: {.columns}

::: {.column width="50%"}

* Mide el grado de deformaci√≥n horizontal en un conjunto de datos. 

* Hay muchos coeficientes de asimetr√≠a, todos se interpretan igual, pero se calculan de formas diversas. 

* Para efectos de este curso vamos a usar el coeficiente de asimetr√≠a que se encuentra disponible en Excel. 

::: 

::: {.column width="50%"}

* $Sk= \frac{n}{(n-1)(n-2)}\left[\sum_{i=1}^{n}\left(\frac{x_i-\bar{x}}{s}\right)^3\right]$
  * $Sk<0$: asimetr√≠a postiva
  * $Sk=0$: distribuci√≥n sim√©trica
  * $Sk>0$: asimetr√≠a positiva 
  
![](img/asimetria.png){width="350"}

:::

::::::

## 1. Asimetr√≠a {.bloques}

* Si la distribuci√≥n de los datos es sim√©trica, la media, la mediana y la moda son coincidentes (iguales o muy similares).

* Esta medida es importante ya que dos conjuntos de datos pueden tener la misma media y desviaci√≥n est√°ndar pero un diferente grado de asimetr√≠a.

* Es com√∫n que en libros de texto en **espa√±ol** y otras personas docentes utilicen el t√©rmino [sesgo]{.hi} como sin√≥nimo de asimetr√≠a. De la clase anterior, sabemos que esto no es as√≠. 
   * **Sesgo**: Cuando el m√©todo de recopilaci√≥n de datos hace que los datos de la muestra reflejen incorrectamente la poblaci√≥n.


## 1. Asimetr√≠a {.bloques}

:::::: {.columns}

::: {.column width="40%"}

* Una distribuci√≥n puede ser asim√©trica y no presentar ning√∫n tipo de sesgo. O viceversa.
* Los t√©rminos [NO SON intercambiables]{.hi}. Use la terminolog√≠a correcta.

### ¬øDe d√≥nde proviene esto?

* B√°sicamente, de un ‚Äúerror de traducci√≥n‚Äù. Para sesgo el t√©rmino en ingl√©s es bias, mientras que para asimetr√≠a es skewness. 


:::

::: {.column .img-fit width="30%"}

![](img/cero_sesgo.png)

:::

::: {.column .img-fit width="30%"}

![](img/zero_skewness.png)

:::

::::::

## 2. Curt√≥sis {.bloques}

* Se define t√©cnicamente como el cuarto momento estandarizado esperado de una variable aleatoria

* Mide la concentraci√≥n relativa de los valores en el centro de la distribuci√≥n al compararlos con las colas y se basa en las diferencias respecto a la media elevadas a la cuarta potencia. 

* La interpretaci√≥n de la curtosis es en t√©rminos de la extremidad de las colas; es decir, mide la propensi√≥n de una distribuci√≥n a producir valores at√≠picos (*outliers*), y no la "puntiagudez" (*peakedness*) o forma del pico central.

* A veces se confunde con cuan escarpada, achatada, etc, se encuentra una distribuci√≥n de datos. 

## 2. Curt√≥sis {.bloques} 

:::::: {.columns}

::: {.column width="60%"}

* Usamos la misma f√≥rmula que MS Excel: 
  * Esta f√≥rmula mide el [exceso de curtosis]{.ul}, es decir, que tan distinta es de una distribuci√≥n normal (tema que se aborda adelante en el curso).
  
* $ku=\left[ \left(\frac{n(n+1)}{(n-1)(n-2)(n-3)}\sum_{i=1}^{n} \left(\frac{x_i-\bar{x}}{s}\right)^4 \right) \right] - \frac{3(n-1)}{(n-2)(n-3)}$

  * $ku<0$ platic√∫rtica: 
    * Donde la curtosis es menor que la de la distribuci√≥n normal 
  * $ku=0$ mesoc√∫rtica:
    * Donde la curtosis es igual a la de la distribuci√≥n normal 
  * $ku>0$ leptoc√∫rtica:
    * Donde la curtosis es mayor que la de la distribuci√≥n normal 

:::

::: {.column .img-fit width="30%"}

![](img\curtosis.png)

:::

::::::

## Presentaci√≥n y visualizaci√≥n de datos {.bloques}

* Recordemos que entre las funciones de la estad√≠stica descriptiva se encuentra el resumir datos. 
* El objetivo fundamental de agrupar los datos es que el an√°lisis de los mismos pueda ser m√°s sencillo, de manera que se pueda hacer una primera aproximaci√≥n a los resultados de forma r√°pida.
* La agrupaci√≥n sirve para poder elaborar, a partir de la informaci√≥n recopilada, herramientas visuales como un histograma, un gr√°fico de barras o un gr√°fico circular.

## Presentaci√≥n y visualizaci√≥n de datos {.bloques}

:::::: {.columns}

::: {.column width="50%"}

### Datos agrupados

* Son aquellos que luego de ser recopilados se dividen y agrupan por categor√≠as o intervalos.
* ¬øC√≥mo se agrupan los datos? Para una sola variable se pueden usar tablas de frecuencia. 

:::

::: {.column width="50%"}

### Tablas de frecuencia

* No existe una ‚Äúregla‚Äù establecida para construir tablas de frecuencia. Pero debe asegurarse que los intervalos establecidos cubran todo el conjunto de datos. 

1. Determinar la cantidad de datos ($n$)
2. Escoger la regla de agrupaci√≥n
3. Obtener la medida de variabilidad asociada a la regla de agrupaci√≥n ($R$, $IQR$, $s$)
4. Definir la cantidad de clases empleando la regla de agrupaci√≥n. 

:::

::::::

## Tablas de frecuencia {.bloques}

:::::: {.columns}

::: {.column width="50%" style="font-size: 0.83em;"}

### Reglas de agrupaci√≥n

* Sturges ($n<200$)

$$
k=1+log_2(n)
$$

* Scott ($n>200$)

$$
A_S=h=\frac{7\cdot s}{2\cdot \sqrt[3]{n}
}
$$

* Freedman-Diaconis

$$
A_{FD}=h=\frac{2\cdot IQR}{\sqrt[3]{n}}
$$

:::

::: {.column width="50%"}

Si se defini√≥ $k$, calcule $h$, por el contrario, si defini√≥ $h$, calcule $k$.

$$
k= \frac{Rango}{h} \\k=\frac{max-min}{h}
$$

:::

::::::

## Convencionalismo de redondeo para $k$ {.bloques}

* $k$ es la cantidad de clases y como tal es siempre un n√∫mero entero positivo.
* Si el entero del resultado previo al redondeo es "*par*" se redondea a la alta y si el entero es "*impar*" se redondea a la baja, resultando siempre un n√∫mero impar de clases.
  * 6.26 redondea a 7.0
  * 7.02 redondea a 7.0
* Las comillas en ‚Äúregla‚Äù son importantes, pues esta no es inamovible. Es un convencionalismo. 


## Bibliograf√≠a {.bloques}

* Walpole, R.; Myers, R.; Myers, S. y Ye, K. Probabilidad y estad√≠stica para ingenier√≠a y ciencias (9na Edici√≥n).
  * Cap√≠tulo 1
* Lind, D.; Marchal, W. y Watchen, S. Estad√≠stica aplicada a los Negocios y la Econom√≠a (15va Edici√≥n).
  * Cap√≠tulo 2, 3 y 4
* Devore, J. Probabilidad y Estad√≠stica para Ingenier√≠a y Ciencias (7ma Edici√≥n).
  * Cap√≠tulo 2
* Levine, D.; Krehbiel, T.; Berenson, M. Estad√≠stica para administraci√≥n (4ta Edici√≥n).
  * Cap√≠tulo 2 y 3
* Lock, R.; Lock, P.; Morgan, K.; Lock, E. & Lock, D. Statistics: Unlocking the Power of Data (3rd Edition)
  * Cap√≠tulo 2
* Westfall P. H. (2014). Kurtosis as Peakedness, 1905 - 2014. R.I.P. The American statistician, 68(3), 191‚Äì195. [https://doi.org/10.1080/00031305.2014.917055](https://doi.org/10.1080/00031305.2014.917055)
