{
  "hash": "c82731139a00175b3c0c14e3d7aebf69",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Gráficos de control de Shewhart para variables\"\ndate: today\nformat:\n  html:\n    toc: true\n    collapse-sections: true\nexecute:\n  warning: false\n  message: false\n---\n\n# Introducción\n\nEl control estadístico del proceso implica la comparación de la salida del proceso con un estándar y la toma de decisiones intermedias en caso de discrepancia entre las dos.\n\nTambién implica determinar si el proceso puede producir productos que cumplan con las especificaciones requeridas.\n\nLos resultados de todos los procesos, ya sean procesos de fabricación o procesos que proporcionan algún tipo de servicio, están sujetos a la variabilidad. La variabilidad hace que sea más difícil para los procesos generar productos que se ajusten a los límites de especificación deseados.\n\nShewhart (1931) definió las dos causas de variabilidad en los resultados del proceso como causas comunes y causas especiales o asignables.\n\n-   Las causas comunes de variabilidad se deben a la naturaleza inherente del proceso. No pueden eliminarse o reducirse sin cambiar el proceso real.\n\n-   Las causas atribuibles de la variabilidad, por otra parte, son interrupciones inusuales del funcionamiento normal. Deben identificarse y eliminarse para reducir la variabilidad y hacer que el proceso sea más capaz de cumplir las especificaciones.\n\n## Gráficos de control\n\nLos gráficos de control son herramientas estadísticas. Su uso es la forma más eficaz de distinguir entre causa común y atribuible para la variabilidad cuando se supervisa el resultado del proceso en tiempo real. Aunque los gráficos de control por sí solos no pueden reducir la variabilidad del proceso, pueden ayudar a prevenir una reacción excesiva a las causas comunes de la variabilidad (lo que puede empeorar las cosas) y ayudar a evitar ignorar las señales de causa asignables. Cuando se reconoce la presencia de una causa asignable para la variabilidad, el conocimiento del proceso puede llevar a ajustes para eliminar esta causa y reducir la variabilidad en los resultados del proceso.\n\n### Fase 1\n\nEn la fase I, se utilizan gráficos de control sobre datos retrospectivos para calcular los límites preliminares de control y determinar si el proceso había estado bajo control durante el período en que se recopilaron los datos. Cuando se detectan causas asignables en la carta de control utilizando los datos históricos, se lleva a cabo una investigación para encontrar la causa. Si se encuentra la causa y puede prevenirse en el futuro, se eliminan los datos correspondientes a los puntos fuera de control del gráfico y se vuelven a calcular los límites de control.\n\nEste es normalmente un proceso iterativo y se repite hasta que los límites de los gráficos de control se refinan, se produce ub gráfico que no parece contener ninguna causa asignable, y el proceso parece estar funcionando a un nivel aceptable. La información obtenida a partir del gráfico de control de la fase I se utiliza entonces como base para el seguimiento de la fase II. Dado que los límites del gráfico de control se calculan repetidamente en la fase I, los cálculos se realizan normalmente utilizando un ordenador.\n\n# Librerías\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(qcc)\n```\n:::\n\n\n# Gráficos $\\bar{X}-R$\n\nPara ejemplificar el uso de este gráfico se emplean los siguientes datos sobre fabricación de bobinas. Para cada bobina muestreada se mide la resistencia en ohms.\n\n<a href=\"datos/bobinas.csv\" download>Descargar datos</a>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbobinas <- readr::read_csv(\"datos/bobinas.csv\")\n\nhead(bobinas) %>% \n  flextable::flextable()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-b776139a{}.cl-b75bc044{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-b76b5216{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b76bbeb8{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b76bbecc{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b76bbee0{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-b776139a'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-b76bbeb8\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">Obs1</span></p></th><th class=\"cl-b76bbeb8\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">Obs2</span></p></th><th class=\"cl-b76bbeb8\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">Obs3</span></p></th><th class=\"cl-b76bbeb8\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">Obs4</span></p></th><th class=\"cl-b76bbeb8\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">Obs5</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">20</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">22</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">21</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">23</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">22</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">19</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">18</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">22</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">20</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">20</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">25</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">18</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">20</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">17</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">22</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">20</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">21</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">22</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">21</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">21</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">19</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">24</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">23</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">22</span></p></td><td class=\"cl-b76bbecc\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">20</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-b76bbee0\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">22</span></p></td><td class=\"cl-b76bbee0\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">20</span></p></td><td class=\"cl-b76bbee0\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">18</span></p></td><td class=\"cl-b76bbee0\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">18</span></p></td><td class=\"cl-b76bbee0\"><p class=\"cl-b76b5216\"><span class=\"cl-b75bc044\">19</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\nNote como el conjunto de datos ya está acomodado en subgrupos racionales de tamaño 5.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nXbar <- qcc::qcc(bobinas,\n                 type = \"xbar\",\n                 title = \"Gráfico de control X para Bobinas [ohms]\", \n                 ylab = \"Media del proceso\", \n                 xlab = \"Grupo\")\n```\n\n::: {.cell-output-display}\n![](graficos_control_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\nR <- qcc::qcc(bobinas,\n              type = \"R\",\n              title = \"Gráfico de control R para Bobinas [ohms]\")\n```\n\n::: {.cell-output-display}\n![](graficos_control_files/figure-html/unnamed-chunk-3-2.png){width=672}\n:::\n:::\n\n\n# Gráficos $\\bar{X}-S$\n\nEn términos de código, basta con cambiar $R$ por $S$\n\n\n::: {.cell}\n\n```{.r .cell-code}\nXbar <- qcc::qcc(bobinas,\n                 type = \"xbar\", \n                 title = \"Gráfico de control X para Bobinas [ohms]\")\n```\n\n::: {.cell-output-display}\n![](graficos_control_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nS <- qcc::qcc(bobinas,\n              type = \"S\",\n              title = \"Gráfico de control S para Bobinas [ohms]\")\n```\n\n::: {.cell-output-display}\n![](graficos_control_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n:::\n\n\nComo el tamaño del subgrupo es pequeño, la diferencia entre $R$ y $S$ es pequeña.\n\n# Gráficos $I-mR$\n\nCuando se requieran gráficos individuales, se puede recurrir a este código.\n\nPor ejemplo, utilicemos estos datos\n\n\n::: {.cell}\n\n```{.r .cell-code}\nminutos <- c(15,17,18,20,21,16,17,18,15.5,16,22,28,21.5,16,\n             17,16,18,17,19,21,27.5,17.5,21,16,18.75,21.5)\n```\n:::\n\n\nY de est manera logramos obtener el gráfico.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nImR <- qcc::qcc(minutos, type = \"xbar.one\", std.dev = \"MR\", \n                title = \"Gráfico de control para minutos\")\n```\n\n::: {.cell-output-display}\n![](graficos_control_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nEn este caso, el código solo es capaz de producir el gráfico individual, pero no el de rangos móviles (MR).\n\n# ¿Cómo modificar valores?\n\nSi se desea establecer otros límites de control, el centro o nominal del proceso, u otros detalles, puede consultar la documentación de la función con `help(qcc)`\n\n# Bibliografía\n\n-   Lawson, J. (2021). An Introduction to acceptance sampling and SPC with R. CRC Press.\n",
    "supporting": [
      "graficos_control_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/tabwid-1.1.3/tabwid.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/tabwid-1.1.3/tabwid.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}